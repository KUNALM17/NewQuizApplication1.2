{"ast":null,"code":"import _objectSpread from\"E:/SpringBoot Learning/NewQuizApplication1.2/quiz-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';// --- Main App Component ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){// State Management\nconst[page,setPage]=useState('login');const[token,setToken]=useState(null);const[user,setUser]=useState(null);const[selectedQuizId,setSelectedQuizId]=useState(null);const[selectedQuestion,setSelectedQuestion]=useState(null);const[message,setMessage]=useState({text:'',type:''});// --- API Configuration (THEEK KIYA HUA) ---\nconst API_BASE_URL='/api';// --- Helper Functions ---\nconst showMessage=useCallback((text,type)=>{setMessage({text,type});setTimeout(()=>setMessage({text:'',type:''}),5000);},[]);const parseJwt=tkn=>{try{const base64Url=tkn.split('.')[1];const base64=base64Url.replace(/-/g,'+').replace(/_/g,'/');const padded=base64.padEnd(Math.ceil(base64.length/4)*4,'=');return JSON.parse(atob(padded));}catch(_unused){return null;}};const extractRoles=decoded=>{if(!decoded)return[];if(Array.isArray(decoded.roles))return decoded.roles;if(Array.isArray(decoded.authorities))return decoded.authorities;if(typeof decoded.scope==='string')return decoded.scope.split(' ');return[];};// Centralized fetch with auth + error handling\nconst apiFetch=useCallback(async function(path){let{method='GET',body,headers={}}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!path.startsWith('http'))path=\"\".concat(API_BASE_URL).concat(path);const currentToken=localStorage.getItem('quiz_app_token');const init=_objectSpread({method,headers:_objectSpread(_objectSpread(_objectSpread({Accept:'application/json'},body?{'Content-Type':'application/json'}:{}),currentToken?{Authorization:\"Bearer \".concat(currentToken)}:{}),headers)},body?{body:JSON.stringify(body)}:{});const res=await fetch(path,init);const responseText=await res.text().catch(()=>'');if(!res.ok){const errMsg=responseText||\"Request failed (\".concat(res.status,\")\");throw new Error(errMsg);}if(!responseText){return null;}try{return JSON.parse(responseText);}catch(e){console.warn(\"API response was not valid JSON:\",responseText);return null;}},[]);// --- Authentication ---\nuseEffect(()=>{const storedToken=localStorage.getItem('quiz_app_token');if(storedToken){const decodedToken=parseJwt(storedToken);if(decodedToken!==null&&decodedToken!==void 0&&decodedToken.exp&&decodedToken.exp*1000<=Date.now()){localStorage.removeItem('quiz_app_token');return;}setToken(storedToken);const roles=extractRoles(decodedToken);setUser({username:(decodedToken===null||decodedToken===void 0?void 0:decodedToken.sub)||(decodedToken===null||decodedToken===void 0?void 0:decodedToken.username)||'user',roles});}},[]);useEffect(()=>{if(user){if(user.roles.includes('ROLE_ADMIN'))setPage('admin_dashboard');else setPage('user_dashboard');}else{setPage('login');}},[user]);const handleLogin=async(username,password)=>{try{const data=await apiFetch('/auth/login',{method:'POST',body:{username,password}});if(!(data!==null&&data!==void 0&&data.token))throw new Error('No token in login response.');localStorage.setItem('quiz_app_token',data.token);setToken(data.token);const decoded=parseJwt(data.token);const roles=extractRoles(decoded);setUser({username:(decoded===null||decoded===void 0?void 0:decoded.sub)||(decoded===null||decoded===void 0?void 0:decoded.username)||username,roles});showMessage('Login successful!','success');}catch(error){showMessage(error.message||'Login failed. Check credentials.','error');}};const handleRegister=async(username,password,email)=>{try{await apiFetch('/auth/register',{method:'POST',body:{username,password,email}});showMessage('Registration successful! Please log in.','success');setPage('login');}catch(error){showMessage(error.message||'Registration failed.','error');}};const handleLogout=()=>{setToken(null);setUser(null);localStorage.removeItem('quiz_app_token');setPage('login');showMessage('You have been logged out.','success');};// --- Navigation ---\nconst navigateTo=newPage=>setPage(newPage);const startQuiz=quizId=>{setSelectedQuizId(quizId);setPage('quiz');};const editQuestion=question=>{setSelectedQuestion(question);setPage('update_question');};// --- Component Rendering Logic ---\nconst renderPage=()=>{switch(page){case'register':return/*#__PURE__*/_jsx(Register,{onRegister:handleRegister,navigateTo:navigateTo});case'user_dashboard':return/*#__PURE__*/_jsx(UserDashboard,{startQuiz:startQuiz,apiFetch:apiFetch,showMessage:showMessage});case'admin_dashboard':return/*#__PURE__*/_jsx(AdminDashboard,{navigateTo:navigateTo});case'create_admin':return/*#__PURE__*/_jsx(CreateAdminUser,{navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'manage_quizzes':return/*#__PURE__*/_jsx(ManageQuizzes,{navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'manage_questions':return/*#__PURE__*/_jsx(ManageQuestions,{navigateTo:navigateTo,editQuestion:editQuestion,apiFetch:apiFetch,showMessage:showMessage});case'quiz':return/*#__PURE__*/_jsx(Quiz,{quizId:selectedQuizId,navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'add_question':return/*#__PURE__*/_jsx(AddQuestion,{navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'update_question':return/*#__PURE__*/_jsx(UpdateQuestion,{question:selectedQuestion,navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'create_quiz':return/*#__PURE__*/_jsx(CreateQuiz,{navigateTo:navigateTo,apiFetch:apiFetch,showMessage:showMessage});case'login':default:return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,navigateTo:navigateTo});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 min-h-screen font-sans\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-md\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"container mx-auto px-6 py-4 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-2xl font-bold text-gray-800\",children:[/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",className:\"inline-block mr-2 text-indigo-600\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M18 9h2a2 2 0 0 1 2 2v9l-4-4h-2a2 2 0 0 1-2-2V11a2 2 0 0 1 2-2Z\"})]}),\"QuizMaster Pro\"]}),user&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600\",children:[\"Welcome, \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-indigo-600\",children:user.username})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",children:\"Logout\"})]})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"container mx-auto p-6\",children:[message.text&&/*#__PURE__*/_jsx(Message,{text:message.text,type:message.type}),renderPage()]})]});}// --- Reusable UI Components ---\nconst Card=_ref=>{let{children,className=''}=_ref;return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-xl shadow-lg p-6 md:p-8 \".concat(className),children:children});};const Button=_ref2=>{let{children,onClick,className='',type='button',disabled=false}=_ref2;return/*#__PURE__*/_jsx(\"button\",{type:type,onClick:onClick,disabled:disabled,className:\"w-full px-4 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300 \".concat(disabled?'opacity-50 cursor-not-allowed':'',\" \").concat(className),children:children});};const Input=_ref3=>{let{id,type='text',placeholder,value,onChange,required=false}=_ref3;return/*#__PURE__*/_jsx(\"input\",{id:id,type:type,placeholder:placeholder,value:value,onChange:onChange,required:required,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"});};const Select=_ref4=>{let{id,value,onChange,children,required=false,className=''}=_ref4;return/*#__PURE__*/_jsx(\"select\",{id:id,value:value,onChange:onChange,required:required,className:\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white \".concat(className),children:children});};const Message=_ref5=>{let{text,type}=_ref5;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 rounded-lg mb-6 text-center \".concat(type==='success'?'bg-green-100 border-green-400 text-green-700':'bg-red-100 border-red-400 text-red-700'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-bold\",children:type==='success'?'Success':'Error'}),/*#__PURE__*/_jsx(\"p\",{children:text})]});};const Spinner=()=>/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center items-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500\"})});// --- Authentication Pages ---\nfunction Login(_ref6){let{onLogin,navigateTo}=_ref6;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const handleSubmit=e=>{e.preventDefault();onLogin(username,password);};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto mt-10\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-6\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{id:\"username\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('register'),className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Register\"})]})]})});}function Register(_ref7){let{onRegister,navigateTo}=_ref7;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[email,setEmail]=useState('');const handleSubmit=e=>{e.preventDefault();onRegister(username,password,email);};return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-md mx-auto mt-10\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-6\",children:\"Create Account\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username-reg\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{id:\"username-reg\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-reg\",children:\"Email (Optional)\"}),/*#__PURE__*/_jsx(Input,{id:\"email-reg\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password-reg\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password-reg\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-center mt-6\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigateTo('login'),className:\"font-semibold text-indigo-600 hover:text-indigo-500\",children:\"Login\"})]})]})});}// --- User Pages ---\nfunction UserDashboard(_ref8){let{startQuiz,apiFetch,showMessage}=_ref8;const[quizzes,setQuizzes]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchQuizzes=async()=>{try{const data=await apiFetch('/user/quiz/all');setQuizzes(Array.isArray(data)?data:[]);}catch(error){showMessage(error.message||'Failed to fetch quizzes.','error');}finally{setIsLoading(false);}};fetchQuizzes();},[apiFetch,showMessage]);if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"Available Quizzes\"}),quizzes.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:quizzes.map(quiz=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-6 rounded-lg border flex flex-col justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold\",children:quiz.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-500 mt-2\",children:[Array.isArray(quiz.questions)?quiz.questions.length:0,\" Questions\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>startQuiz(quiz.id),className:\"mt-4 w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\",children:\"Start Quiz\"})]},quiz.id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"No quizzes available.\"})]});}function Quiz(_ref9){let{quizId,navigateTo,apiFetch,showMessage}=_ref9;const[questions,setQuestions]=useState([]);const[currentIndex,setCurrentIndex]=useState(0);const[answers,setAnswers]=useState({});const[isLoading,setIsLoading]=useState(true);const[result,setResult]=useState(null);useEffect(()=>{const fetchQuestions=async()=>{if(!quizId)return;try{const data=await apiFetch(\"/user/quiz/get/\".concat(quizId));setQuestions(Array.isArray(data)?data:[]);}catch(error){showMessage(error.message||'Failed to load quiz questions.','error');}finally{setIsLoading(false);}};fetchQuestions();},[quizId,apiFetch,showMessage]);const handleSelect=(qId,option)=>setAnswers(prev=>_objectSpread(_objectSpread({},prev),{},{[qId]:option}));const handleSubmit=async()=>{const responses=questions.map(q=>({id:q.id,response:answers[q.id]||''}));try{const data=await apiFetch(\"/user/quiz/submit/\".concat(quizId),{method:'POST',body:responses});const score=typeof data==='number'?data:data===null||data===void 0?void 0:data.score;setResult(score!==null&&score!==void 0?score:0);showMessage('Quiz submitted!','success');}catch(error){showMessage(error.message||'Failed to submit quiz.','error');}};if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});if(result!==null){return/*#__PURE__*/_jsxs(Card,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold\",children:\"Quiz Complete!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl my-4\",children:\"Your score is:\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-6xl font-bold text-indigo-600\",children:[result,\" / \",questions.length]}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigateTo('user_dashboard'),className:\"mt-8\",children:\"Back to Dashboard\"})]});}const q=questions[currentIndex];if(!q)return/*#__PURE__*/_jsx(\"p\",{children:\"No questions found.\"});const options=[q.option1,q.option2,q.option3,q.option4].filter(Boolean);return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Question \",currentIndex+1,\" of \",questions.length]}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mt-2\",children:q.question_title}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 mt-6\",children:options.map((opt,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSelect(q.id,opt),className:\"w-full text-left p-4 rounded-lg border-2 \".concat(answers[q.id]===opt?'bg-indigo-100 border-indigo-500':'bg-white hover:border-indigo-400'),children:opt},i))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8 flex justify-between\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>setCurrentIndex(i=>i-1),disabled:currentIndex===0,className:\"w-auto bg-gray-300 text-gray-700 hover:bg-gray-400\",children:\"Previous\"}),currentIndex===questions.length-1?/*#__PURE__*/_jsx(Button,{onClick:handleSubmit,className:\"w-auto bg-green-500 hover:bg-green-600\",children:\"Submit\"}):/*#__PURE__*/_jsx(Button,{onClick:()=>setCurrentIndex(i=>i+1),className:\"w-auto\",children:\"Next\"})]})]});}// --- Admin Pages ---\nfunction AdminDashboard(_ref0){let{navigateTo}=_ref0;return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-8\",children:\"Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigateTo('manage_quizzes'),className:\"p-8 bg-blue-500 text-white rounded-lg text-center cursor-pointer hover:bg-blue-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Manage Quizzes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"View, create, and delete quizzes.\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigateTo('manage_questions'),className:\"p-8 bg-green-500 text-white rounded-lg text-center cursor-pointer hover:bg-green-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Manage Questions\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"View, create, update, and delete questions.\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>navigateTo('create_admin'),className:\"p-8 bg-purple-500 text-white rounded-lg text-center cursor-pointer hover:bg-purple-600 transition-colors\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-2xl font-bold\",children:\"Create User\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2\",children:\"Register a new user with a specific role.\"})]})]})]});}function CreateAdminUser(_ref1){let{navigateTo,apiFetch,showMessage}=_ref1;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[email,setEmail]=useState('');const[role,setRole]=useState('ADMIN');const handleSubmit=async e=>{e.preventDefault();try{await apiFetch('/auth/admin/register',{method:'POST',body:{username,password,email,role}});showMessage(\"User '\".concat(username,\"' registered successfully with role \").concat(role,\"!\"),'success');navigateTo('admin_dashboard');}catch(error){showMessage(error.message||'Registration failed.','error');}};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-center mb-6\",children:\"Create New User\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6 max-w-lg mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username-admin-reg\",className:\"block text-sm font-medium text-gray-700\",children:\"Username\"}),/*#__PURE__*/_jsx(Input,{id:\"username-admin-reg\",type:\"text\",value:username,onChange:e=>setUsername(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email-admin-reg\",className:\"block text-sm font-medium text-gray-700\",children:\"Email (Optional)\"}),/*#__PURE__*/_jsx(Input,{id:\"email-admin-reg\",type:\"email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password-admin-reg\",className:\"block text-sm font-medium text-gray-700\",children:\"Password\"}),/*#__PURE__*/_jsx(Input,{id:\"password-admin-reg\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role-select\",className:\"block text-sm font-medium text-gray-700\",children:\"Role\"}),/*#__PURE__*/_jsxs(Select,{id:\"role-select\",value:role,onChange:e=>setRole(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"ADMIN\",children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"option\",{value:\"USER\",children:\"USER\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:()=>navigateTo('admin_dashboard'),className:\"bg-gray-500 hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Create User\"})]})]})]});}function ManageQuizzes(_ref10){let{navigateTo,apiFetch,showMessage}=_ref10;const[quizzes,setQuizzes]=useState([]);const[isLoading,setIsLoading]=useState(true);const fetchQuizzes=useCallback(async()=>{setIsLoading(true);try{const data=await apiFetch('/user/quiz/all');setQuizzes(Array.isArray(data)?data:[]);}catch(error){showMessage(error.message||'Failed to fetch quizzes','error');}finally{setIsLoading(false);}},[apiFetch,showMessage]);useEffect(()=>{fetchQuizzes();},[fetchQuizzes]);const deleteQuiz=async id=>{if(window.confirm('Are you sure you want to delete this quiz?')){try{await apiFetch(\"/admin/quiz/delete/\".concat(id),{method:'DELETE'});showMessage('Quiz deleted successfully.','success');fetchQuizzes();}catch(error){showMessage(error.message||'Failed to delete quiz.','error');}}};if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold\",children:[\"Manage Quizzes (\",quizzes.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>navigateTo('create_quiz'),className:\"w-auto bg-green-500 hover:bg-green-600\",children:\"Create Quiz\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigateTo('admin_dashboard'),className:\"w-auto bg-gray-500 hover:bg-gray-600\",children:\"Back\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-[60vh] overflow-y-auto space-y-3 pr-2\",children:quizzes.length>0?quizzes.map(quiz=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg flex justify-between items-center border\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:quiz.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[Array.isArray(quiz.questions)?quiz.questions.length:0,\" questions\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteQuiz(quiz.id),className:\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\",children:\"Delete\"})]},quiz.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No quizzes created yet.\"})})]});}function ManageQuestions(_ref11){let{navigateTo,editQuestion,apiFetch,showMessage}=_ref11;const[questions,setQuestions]=useState([]);const[categories,setCategories]=useState([]);const[isLoading,setIsLoading]=useState(true);const[filter,setFilter]=useState('All');const fetchData=useCallback(async()=>{setIsLoading(true);try{const[qs,cats]=await Promise.all([apiFetch('/admin/question/allQuestions'),apiFetch('/admin/question/categories')]);setQuestions(Array.isArray(qs)?qs:[]);setCategories(['All',...(Array.isArray(cats)?cats:[])]);}catch(error){showMessage(error.message||'Failed to fetch data','error');}finally{setIsLoading(false);}},[apiFetch,showMessage]);useEffect(()=>{fetchData();},[fetchData]);const deleteQuestion=async id=>{if(window.confirm('Are you sure you want to delete this question?')){try{await apiFetch(\"/admin/question/delete/\".concat(id),{method:'DELETE'});showMessage('Question deleted successfully.','success');fetchData();}catch(error){showMessage(error.message||'Failed to delete question.','error');}}};const filteredQuestions=filter==='All'?questions:questions.filter(q=>q.category===filter);if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-3xl font-bold\",children:[\"Manage Questions (\",filteredQuestions.length,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4\",children:[/*#__PURE__*/_jsx(Button,{onClick:()=>navigateTo('add_question'),className:\"w-auto bg-blue-500 hover:bg-blue-600\",children:\"Add Question\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigateTo('admin_dashboard'),className:\"w-auto bg-gray-500 hover:bg-gray-600\",children:\"Back\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end items-center mb-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category-filter\",className:\"mr-2\",children:\"Filter by Category:\"}),/*#__PURE__*/_jsx(Select,{id:\"category-filter\",value:filter,onChange:e=>setFilter(e.target.value),className:\"w-48\",children:categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"max-h-[60vh] overflow-y-auto space-y-3 pr-2\",children:filteredQuestions.length>0?filteredQuestions.map(q=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-3 rounded-lg border\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:q.question_title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Category: \",q.category]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>editQuestion(q),className:\"px-3 py-1 bg-yellow-500 text-white text-sm rounded hover:bg-yellow-600\",children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteQuestion(q.id),className:\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\",children:\"Delete\"})]})]},q.id)):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No questions found for this category.\"})})]});}function AddQuestion(_ref12){let{navigateTo,apiFetch,showMessage}=_ref12;const[formData,setFormData]=useState({question_title:'',option1:'',option2:'',option3:'',option4:'',right_answer:'',difficultylevel:'',category:''});const handleChange=e=>setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.id]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{await apiFetch('/admin/question/addQuestions',{method:'POST',body:formData});showMessage('Question added!','success');navigateTo('manage_questions');}catch(error){showMessage(error.message||'Failed to add question.','error');}};return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"Add New Question\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{id:\"question_title\",placeholder:\"Question Title\",value:formData.question_title,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option1\",placeholder:\"Option 1\",value:formData.option1,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option2\",placeholder:\"Option 2\",value:formData.option2,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option3\",placeholder:\"Option 3\",value:formData.option3,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option4\",placeholder:\"Option 4\",value:formData.option4,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"right_answer\",placeholder:\"Right Answer\",value:formData.right_answer,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"difficultylevel\",placeholder:\"Difficulty Level\",value:formData.difficultylevel,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"category\",placeholder:\"Category\",value:formData.category,onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:()=>navigateTo('manage_questions'),className:\"bg-gray-500 hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Add Question\"})]})]})]});}function UpdateQuestion(_ref13){let{question,navigateTo,apiFetch,showMessage}=_ref13;const[formData,setFormData]=useState(question||{});const handleChange=e=>setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.id]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{await apiFetch(\"/admin/question/update/\".concat(question.id),{method:'PUT',body:formData});showMessage('Question updated!','success');navigateTo('manage_questions');}catch(error){showMessage(error.message||'Failed to update question.','error');}};if(!question)return/*#__PURE__*/_jsx(Card,{children:\"No question selected.\"});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"Update Question\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{id:\"question_title\",placeholder:\"Question Title\",value:formData.question_title||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option1\",placeholder:\"Option 1\",value:formData.option1||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option2\",placeholder:\"Option 2\",value:formData.option2||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option3\",placeholder:\"Option 3\",value:formData.option3||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"option4\",placeholder:\"Option 4\",value:formData.option4||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"right_answer\",placeholder:\"Right Answer\",value:formData.right_answer||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"difficultylevel\",placeholder:\"Difficulty Level\",value:formData.difficultylevel||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsx(Input,{id:\"category\",placeholder:\"Category\",value:formData.category||'',onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:()=>navigateTo('manage_questions'),className:\"bg-gray-500 hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Update Question\"})]})]})]});}function CreateQuiz(_ref14){let{navigateTo,apiFetch,showMessage}=_ref14;const[category,setCategory]=useState('');const[numQ,setNumQ]=useState('');const[title,setTitle]=useState('');const[categories,setCategories]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{const fetchCategories=async()=>{try{const data=await apiFetch('/admin/question/categories');setCategories(Array.isArray(data)?data:[]);}catch(error){showMessage(error.message||'Failed to fetch categories.','error');}finally{setIsLoading(false);}};fetchCategories();},[apiFetch,showMessage]);const handleSubmit=async e=>{e.preventDefault();const params=new URLSearchParams({category,numQ,title});try{await apiFetch(\"/admin/quiz/create?\".concat(params.toString()),{method:'POST'});showMessage('Quiz created successfully!','success');navigateTo('manage_quizzes');}catch(error){showMessage(error.message||'Failed to create quiz.','error');}};if(isLoading)return/*#__PURE__*/_jsx(Spinner,{});return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-6\",children:\"Create New Quiz\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{id:\"title\",placeholder:\"Quiz Title\",value:title,onChange:e=>setTitle(e.target.value),required:true}),/*#__PURE__*/_jsxs(Select,{id:\"category\",value:category,onChange:e=>setCategory(e.target.value),required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",disabled:true,children:\"Select a Category\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]}),/*#__PURE__*/_jsx(Input,{id:\"numQ\",type:\"number\",placeholder:\"Number of Questions\",value:numQ,onChange:e=>setNumQ(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 pt-4\",children:[/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:()=>navigateTo('manage_quizzes'),className:\"bg-gray-500 hover:bg-gray-600\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Create Quiz\"})]})]})]});}","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","App","page","setPage","token","setToken","user","setUser","selectedQuizId","setSelectedQuizId","selectedQuestion","setSelectedQuestion","message","setMessage","text","type","API_BASE_URL","showMessage","setTimeout","parseJwt","tkn","base64Url","split","base64","replace","padded","padEnd","Math","ceil","length","JSON","parse","atob","_unused","extractRoles","decoded","Array","isArray","roles","authorities","scope","apiFetch","path","method","body","headers","arguments","undefined","startsWith","concat","currentToken","localStorage","getItem","init","_objectSpread","Accept","Authorization","stringify","res","fetch","responseText","catch","ok","errMsg","status","Error","e","console","warn","storedToken","decodedToken","exp","Date","now","removeItem","username","sub","includes","handleLogin","password","data","setItem","error","handleRegister","email","handleLogout","navigateTo","newPage","startQuiz","quizId","editQuestion","question","renderPage","Register","onRegister","UserDashboard","AdminDashboard","CreateAdminUser","ManageQuizzes","ManageQuestions","Quiz","AddQuestion","UpdateQuestion","CreateQuiz","Login","onLogin","className","children","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","d","onClick","Message","Card","_ref","Button","_ref2","disabled","Input","_ref3","id","placeholder","value","onChange","required","Select","_ref4","_ref5","Spinner","_ref6","setUsername","setPassword","handleSubmit","preventDefault","onSubmit","htmlFor","target","_ref7","setEmail","_ref8","quizzes","setQuizzes","isLoading","setIsLoading","fetchQuizzes","map","quiz","title","questions","_ref9","setQuestions","currentIndex","setCurrentIndex","answers","setAnswers","result","setResult","fetchQuestions","handleSelect","qId","option","prev","responses","q","response","score","options","option1","option2","option3","option4","filter","Boolean","question_title","opt","i","_ref0","_ref1","role","setRole","_ref10","deleteQuiz","window","confirm","_ref11","categories","setCategories","setFilter","fetchData","qs","cats","Promise","all","deleteQuestion","filteredQuestions","category","cat","_ref12","formData","setFormData","right_answer","difficultylevel","handleChange","_ref13","_ref14","setCategory","numQ","setNumQ","setTitle","fetchCategories","params","URLSearchParams","toString"],"sources":["E:/SpringBoot Learning/NewQuizApplication1.2/quiz-frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\r\n\r\n// --- Main App Component ---\r\nexport default function App() {\r\n  // State Management\r\n  const [page, setPage] = useState('login');\r\n  const [token, setToken] = useState(null);\r\n  const [user, setUser] = useState(null);\r\n  const [selectedQuizId, setSelectedQuizId] = useState(null);\r\n  const [selectedQuestion, setSelectedQuestion] = useState(null);\r\n  const [message, setMessage] = useState({ text: '', type: '' });\r\n\r\n  // --- API Configuration (THEEK KIYA HUA) ---\r\n  const API_BASE_URL = '/api';\r\n\r\n  // --- Helper Functions ---\r\n  const showMessage = useCallback((text, type) => {\r\n    setMessage({ text, type });\r\n    setTimeout(() => setMessage({ text: '', type: '' }), 5000);\r\n  }, []);\r\n\r\n  const parseJwt = (tkn) => {\r\n    try {\r\n      const base64Url = tkn.split('.')[1];\r\n      const base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');\r\n      const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, '=');\r\n      return JSON.parse(atob(padded));\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const extractRoles = (decoded) => {\r\n    if (!decoded) return [];\r\n    if (Array.isArray(decoded.roles)) return decoded.roles;\r\n    if (Array.isArray(decoded.authorities)) return decoded.authorities;\r\n    if (typeof decoded.scope === 'string') return decoded.scope.split(' ');\r\n    return [];\r\n  };\r\n\r\n  // Centralized fetch with auth + error handling\r\n  const apiFetch = useCallback(async (path, { method = 'GET', body, headers = {} } = {}) => {\r\n    if (!path.startsWith('http')) path = `${API_BASE_URL}${path}`;\r\n    const currentToken = localStorage.getItem('quiz_app_token');\r\n    const init = {\r\n      method,\r\n      headers: {\r\n        Accept: 'application/json',\r\n        ...(body ? { 'Content-Type': 'application/json' } : {}),\r\n        ...(currentToken ? { Authorization: `Bearer ${currentToken}` } : {}),\r\n        ...headers,\r\n      },\r\n      ...(body ? { body: JSON.stringify(body) } : {}),\r\n    };\r\n\r\n    const res = await fetch(path, init);\r\n    const responseText = await res.text().catch(() => '');\r\n\r\n    if (!res.ok) {\r\n      const errMsg = responseText || `Request failed (${res.status})`;\r\n      throw new Error(errMsg);\r\n    }\r\n    \r\n    if (!responseText) {\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      return JSON.parse(responseText);\r\n    } catch (e) {\r\n      console.warn(\"API response was not valid JSON:\", responseText);\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  // --- Authentication ---\r\n  useEffect(() => {\r\n    const storedToken = localStorage.getItem('quiz_app_token');\r\n    if (storedToken) {\r\n      const decodedToken = parseJwt(storedToken);\r\n      if (decodedToken?.exp && decodedToken.exp * 1000 <= Date.now()) {\r\n        localStorage.removeItem('quiz_app_token');\r\n        return;\r\n      }\r\n      setToken(storedToken);\r\n      const roles = extractRoles(decodedToken);\r\n      setUser({\r\n        username: decodedToken?.sub || decodedToken?.username || 'user',\r\n        roles,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      if (user.roles.includes('ROLE_ADMIN')) setPage('admin_dashboard');\r\n      else setPage('user_dashboard');\r\n    } else {\r\n      setPage('login');\r\n    }\r\n  }, [user]);\r\n\r\n  const handleLogin = async (username, password) => {\r\n    try {\r\n      const data = await apiFetch('/auth/login', {\r\n        method: 'POST',\r\n        body: { username, password },\r\n      });\r\n      if (!data?.token) throw new Error('No token in login response.');\r\n\r\n      localStorage.setItem('quiz_app_token', data.token);\r\n      setToken(data.token);\r\n      const decoded = parseJwt(data.token);\r\n      const roles = extractRoles(decoded);\r\n      setUser({ username: decoded?.sub || decoded?.username || username, roles, });\r\n      showMessage('Login successful!', 'success');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Login failed. Check credentials.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleRegister = async (username, password, email) => {\r\n    try {\r\n      await apiFetch('/auth/register', {\r\n        method: 'POST',\r\n        body: { username, password, email },\r\n      });\r\n      showMessage('Registration successful! Please log in.', 'success');\r\n      setPage('login');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Registration failed.', 'error');\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    setToken(null);\r\n    setUser(null);\r\n    localStorage.removeItem('quiz_app_token');\r\n    setPage('login');\r\n    showMessage('You have been logged out.', 'success');\r\n  };\r\n\r\n  // --- Navigation ---\r\n  const navigateTo = (newPage) => setPage(newPage);\r\n  const startQuiz = (quizId) => {\r\n    setSelectedQuizId(quizId);\r\n    setPage('quiz');\r\n  };\r\n  const editQuestion = (question) => {\r\n    setSelectedQuestion(question);\r\n    setPage('update_question');\r\n  };\r\n\r\n  // --- Component Rendering Logic ---\r\n  const renderPage = () => {\r\n    switch (page) {\r\n      case 'register':\r\n        return <Register onRegister={handleRegister} navigateTo={navigateTo} />;\r\n      case 'user_dashboard':\r\n        return <UserDashboard startQuiz={startQuiz} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'admin_dashboard':\r\n        return <AdminDashboard navigateTo={navigateTo} />;\r\n      case 'create_admin':\r\n        return <CreateAdminUser navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'manage_quizzes':\r\n        return <ManageQuizzes navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'manage_questions':\r\n        return <ManageQuestions navigateTo={navigateTo} editQuestion={editQuestion} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'quiz':\r\n        return <Quiz quizId={selectedQuizId} navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'add_question':\r\n        return <AddQuestion navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'update_question':\r\n        return <UpdateQuestion question={selectedQuestion} navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'create_quiz':\r\n        return <CreateQuiz navigateTo={navigateTo} apiFetch={apiFetch} showMessage={showMessage} />;\r\n      case 'login':\r\n      default:\r\n        return <Login onLogin={handleLogin} navigateTo={navigateTo} />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-gray-100 min-h-screen font-sans\">\r\n      <header className=\"bg-white shadow-md\">\r\n        <nav className=\"container mx-auto px-6 py-4 flex justify-between items-center\">\r\n          <div className=\"text-2xl font-bold text-gray-800\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className=\"inline-block mr-2 text-indigo-600\"><path d=\"M14 9a2 2 0 0 1-2 2H6l-4 4V4c0-1.1.9-2 2-2h8a2 2 0 0 1 2 2v5Z\" /><path d=\"M18 9h2a2 2 0 0 1 2 2v9l-4-4h-2a2 2 0 0 1-2-2V11a2 2 0 0 1 2-2Z\" /></svg>\r\n            QuizMaster Pro\r\n          </div>\r\n          {user && (\r\n            <div className=\"flex items-center space-x-4\">\r\n              <span className=\"text-gray-600\">Welcome, <span className=\"font-semibold text-indigo-600\">{user.username}</span></span>\r\n              <button onClick={handleLogout} className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\">Logout</button>\r\n            </div>\r\n          )}\r\n        </nav>\r\n      </header>\r\n      <main className=\"container mx-auto p-6\">\r\n        {message.text && <Message text={message.text} type={message.type} />}\r\n        {renderPage()}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Reusable UI Components ---\r\nconst Card = ({ children, className = '' }) => <div className={`bg-white rounded-xl shadow-lg p-6 md:p-8 ${className}`}>{children}</div>;\r\nconst Button = ({ children, onClick, className = '', type = 'button', disabled = false }) => <button type={type} onClick={onClick} disabled={disabled} className={`w-full px-4 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-300 ${disabled ? 'opacity-50 cursor-not-allowed' : ''} ${className}`}>{children}</button>;\r\nconst Input = ({ id, type = 'text', placeholder, value, onChange, required = false }) => <input id={id} type={type} placeholder={placeholder} value={value} onChange={onChange} required={required} className=\"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\" />;\r\nconst Select = ({ id, value, onChange, children, required = false, className = '' }) => <select id={id} value={value} onChange={onChange} required={required} className={`w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 bg-white ${className}`}>{children}</select>;\r\nconst Message = ({ text, type }) => <div className={`p-4 rounded-lg mb-6 text-center ${type === 'success' ? 'bg-green-100 border-green-400 text-green-700' : 'bg-red-100 border-red-400 text-red-700'}`}><p className=\"font-bold\">{type === 'success' ? 'Success' : 'Error'}</p><p>{text}</p></div>;\r\nconst Spinner = () => <div className=\"flex justify-center items-center h-64\"><div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-indigo-500\"></div></div>;\r\n\r\n// --- Authentication Pages ---\r\nfunction Login({ onLogin, navigateTo }) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onLogin(username, password);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-10\">\r\n      <Card>\r\n        <h2 className=\"text-3xl font-bold text-center mb-6\">Login</h2>\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div><label htmlFor=\"username\">Username</label><Input id=\"username\" type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} required /></div>\r\n          <div><label htmlFor=\"password\">Password</label><Input id=\"password\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required /></div>\r\n          <Button type=\"submit\">Login</Button>\r\n        </form>\r\n        <p className=\"text-center mt-6\">Don't have an account? <button onClick={() => navigateTo('register')} className=\"font-semibold text-indigo-600 hover:text-indigo-500\">Register</button></p>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Register({ onRegister, navigateTo }) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onRegister(username, password, email);\r\n  };\r\n  return (\r\n    <div className=\"max-w-md mx-auto mt-10\">\r\n      <Card>\r\n        <h2 className=\"text-3xl font-bold text-center mb-6\">Create Account</h2>\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <div><label htmlFor=\"username-reg\">Username</label><Input id=\"username-reg\" type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} required /></div>\r\n          <div><label htmlFor=\"email-reg\">Email (Optional)</label><Input id=\"email-reg\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} /></div>\r\n          <div><label htmlFor=\"password-reg\">Password</label><Input id=\"password-reg\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required /></div>\r\n          <Button type=\"submit\">Register</Button>\r\n        </form>\r\n        <p className=\"text-center mt-6\">Already have an account? <button onClick={() => navigateTo('login')} className=\"font-semibold text-indigo-600 hover:text-indigo-500\">Login</button></p>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- User Pages ---\r\nfunction UserDashboard({ startQuiz, apiFetch, showMessage }) {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchQuizzes = async () => {\r\n      try {\r\n        const data = await apiFetch('/user/quiz/all');\r\n        setQuizzes(Array.isArray(data) ? data : []);\r\n      } catch (error) {\r\n        showMessage(error.message || 'Failed to fetch quizzes.', 'error');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchQuizzes();\r\n  }, [apiFetch, showMessage]);\r\n\r\n  if (isLoading) return <Spinner />;\r\n\r\n  return (\r\n    <Card>\r\n      <h2 className=\"text-3xl font-bold mb-6\">Available Quizzes</h2>\r\n      {quizzes.length > 0 ? (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {quizzes.map((quiz) => (\r\n            <div key={quiz.id} className=\"bg-gray-50 p-6 rounded-lg border flex flex-col justify-between\">\r\n              <div>\r\n                <h3 className=\"text-xl font-semibold\">{quiz.title}</h3>\r\n                <p className=\"text-gray-500 mt-2\">{Array.isArray(quiz.questions) ? quiz.questions.length : 0} Questions</p>\r\n              </div>\r\n              <button onClick={() => startQuiz(quiz.id)} className=\"mt-4 w-full px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600\">Start Quiz</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      ) : <p className=\"text-center text-gray-500\">No quizzes available.</p>}\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction Quiz({ quizId, navigateTo, apiFetch, showMessage }) {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [answers, setAnswers] = useState({});\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [result, setResult] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchQuestions = async () => {\r\n      if (!quizId) return;\r\n      try {\r\n        const data = await apiFetch(`/user/quiz/get/${quizId}`);\r\n        setQuestions(Array.isArray(data) ? data : []);\r\n      } catch (error) {\r\n        showMessage(error.message || 'Failed to load quiz questions.', 'error');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchQuestions();\r\n  }, [quizId, apiFetch, showMessage]);\r\n\r\n  const handleSelect = (qId, option) => setAnswers((prev) => ({ ...prev, [qId]: option }));\r\n\r\n  const handleSubmit = async () => {\r\n    const responses = questions.map((q) => ({ id: q.id, response: answers[q.id] || '' }));\r\n    try {\r\n      const data = await apiFetch(`/user/quiz/submit/${quizId}`, { method: 'POST', body: responses });\r\n      const score = typeof data === 'number' ? data : data?.score;\r\n      setResult(score ?? 0);\r\n      showMessage('Quiz submitted!', 'success');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to submit quiz.', 'error');\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <Spinner />;\r\n  if (result !== null) {\r\n    return (\r\n      <Card className=\"text-center\">\r\n        <h2 className=\"text-3xl font-bold\">Quiz Complete!</h2>\r\n        <p className=\"text-xl my-4\">Your score is:</p>\r\n        <p className=\"text-6xl font-bold text-indigo-600\">{result} / {questions.length}</p>\r\n        <Button onClick={() => navigateTo('user_dashboard')} className=\"mt-8\">Back to Dashboard</Button>\r\n      </Card>\r\n    );\r\n  }\r\n  const q = questions[currentIndex];\r\n  if (!q) return <p>No questions found.</p>;\r\n  const options = [q.option1, q.option2, q.option3, q.option4].filter(Boolean);\r\n\r\n  return (\r\n    <Card>\r\n      <p className=\"text-sm text-gray-500\">Question {currentIndex + 1} of {questions.length}</p>\r\n      <h2 className=\"text-2xl font-semibold mt-2\">{q.question_title}</h2>\r\n      <div className=\"space-y-4 mt-6\">\r\n        {options.map((opt, i) => <button key={i} onClick={() => handleSelect(q.id, opt)} className={`w-full text-left p-4 rounded-lg border-2 ${answers[q.id] === opt ? 'bg-indigo-100 border-indigo-500' : 'bg-white hover:border-indigo-400'}`}>{opt}</button>)}\r\n      </div>\r\n      <div className=\"mt-8 flex justify-between\">\r\n        <Button onClick={() => setCurrentIndex((i) => i - 1)} disabled={currentIndex === 0} className=\"w-auto bg-gray-300 text-gray-700 hover:bg-gray-400\">Previous</Button>\r\n        {currentIndex === questions.length - 1 ? <Button onClick={handleSubmit} className=\"w-auto bg-green-500 hover:bg-green-600\">Submit</Button> : <Button onClick={() => setCurrentIndex((i) => i + 1)} className=\"w-auto\">Next</Button>}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\n// --- Admin Pages ---\r\nfunction AdminDashboard({ navigateTo }) {\r\n  return (\r\n    <Card>\r\n      <h2 className=\"text-3xl font-bold text-center mb-8\">Admin Dashboard</h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n        <div onClick={() => navigateTo('manage_quizzes')} className=\"p-8 bg-blue-500 text-white rounded-lg text-center cursor-pointer hover:bg-blue-600 transition-colors\">\r\n          <h3 className=\"text-2xl font-bold\">Manage Quizzes</h3>\r\n          <p className=\"mt-2\">View, create, and delete quizzes.</p>\r\n        </div>\r\n        <div onClick={() => navigateTo('manage_questions')} className=\"p-8 bg-green-500 text-white rounded-lg text-center cursor-pointer hover:bg-green-600 transition-colors\">\r\n          <h3 className=\"text-2xl font-bold\">Manage Questions</h3>\r\n          <p className=\"mt-2\">View, create, update, and delete questions.</p>\r\n        </div>\r\n        <div onClick={() => navigateTo('create_admin')} className=\"p-8 bg-purple-500 text-white rounded-lg text-center cursor-pointer hover:bg-purple-600 transition-colors\">\r\n            <h3 className=\"text-2xl font-bold\">Create User</h3>\r\n            <p className=\"mt-2\">Register a new user with a specific role.</p>\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction CreateAdminUser({ navigateTo, apiFetch, showMessage }) {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [role, setRole] = useState('ADMIN');\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            await apiFetch('/auth/admin/register', {\r\n                method: 'POST',\r\n                body: { username, password, email, role },\r\n            });\r\n            showMessage(`User '${username}' registered successfully with role ${role}!`, 'success');\r\n            navigateTo('admin_dashboard');\r\n        } catch (error) {\r\n            showMessage(error.message || 'Registration failed.', 'error');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <h2 className=\"text-3xl font-bold text-center mb-6\">Create New User</h2>\r\n            <form onSubmit={handleSubmit} className=\"space-y-6 max-w-lg mx-auto\">\r\n                <div>\r\n                    <label htmlFor=\"username-admin-reg\" className=\"block text-sm font-medium text-gray-700\">Username</label>\r\n                    <Input id=\"username-admin-reg\" type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} required />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email-admin-reg\" className=\"block text-sm font-medium text-gray-700\">Email (Optional)</label>\r\n                    <Input id=\"email-admin-reg\" type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password-admin-reg\" className=\"block text-sm font-medium text-gray-700\">Password</label>\r\n                    <Input id=\"password-admin-reg\" type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"role-select\" className=\"block text-sm font-medium text-gray-700\">Role</label>\r\n                     <Select id=\"role-select\" value={role} onChange={(e) => setRole(e.target.value)} required>\r\n                         <option value=\"ADMIN\">ADMIN</option>\r\n                         <option value=\"USER\">USER</option>\r\n                     </Select>\r\n                </div>\r\n                <div className=\"flex space-x-4 pt-4\">\r\n                    <Button type=\"button\" onClick={() => navigateTo('admin_dashboard')} className=\"bg-gray-500 hover:bg-gray-600\">Cancel</Button>\r\n                    <Button type=\"submit\">Create User</Button>\r\n                </div>\r\n            </form>\r\n        </Card>\r\n    );\r\n}\r\n\r\nfunction ManageQuizzes({ navigateTo, apiFetch, showMessage }) {\r\n  const [quizzes, setQuizzes] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  const fetchQuizzes = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await apiFetch('/user/quiz/all');\r\n      setQuizzes(Array.isArray(data) ? data : []);\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to fetch quizzes', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [apiFetch, showMessage]);\r\n\r\n  useEffect(() => { fetchQuizzes(); }, [fetchQuizzes]);\r\n\r\n  const deleteQuiz = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this quiz?')) {\r\n      try {\r\n        await apiFetch(`/admin/quiz/delete/${id}`, { method: 'DELETE' });\r\n        showMessage('Quiz deleted successfully.', 'success');\r\n        fetchQuizzes();\r\n      } catch (error) {\r\n        showMessage(error.message || 'Failed to delete quiz.', 'error');\r\n      }\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <Spinner />;\r\n  return (\r\n    <Card>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-3xl font-bold\">Manage Quizzes ({quizzes.length})</h2>\r\n        <div className=\"flex space-x-4\">\r\n          <Button onClick={() => navigateTo('create_quiz')} className=\"w-auto bg-green-500 hover:bg-green-600\">Create Quiz</Button>\r\n          <Button onClick={() => navigateTo('admin_dashboard')} className=\"w-auto bg-gray-500 hover:bg-gray-600\">Back</Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"max-h-[60vh] overflow-y-auto space-y-3 pr-2\">\r\n        {quizzes.length > 0 ? (\r\n          quizzes.map((quiz) => (\r\n            <div key={quiz.id} className=\"bg-gray-50 p-4 rounded-lg flex justify-between items-center border\">\r\n              <div><p className=\"font-semibold\">{quiz.title}</p><p className=\"text-sm text-gray-500\">{Array.isArray(quiz.questions) ? quiz.questions.length : 0} questions</p></div>\r\n              <button onClick={() => deleteQuiz(quiz.id)} className=\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\">Delete</button>\r\n            </div>\r\n          ))\r\n        ) : <p className=\"text-gray-500\">No quizzes created yet.</p>}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction ManageQuestions({ navigateTo, editQuestion, apiFetch, showMessage }) {\r\n  const [questions, setQuestions] = useState([]);\r\n  const [categories, setCategories] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [filter, setFilter] = useState('All');\r\n\r\n  const fetchData = useCallback(async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const [qs, cats] = await Promise.all([\r\n        apiFetch('/admin/question/allQuestions'),\r\n        apiFetch('/admin/question/categories'),\r\n      ]);\r\n      setQuestions(Array.isArray(qs) ? qs : []);\r\n      setCategories(['All', ...(Array.isArray(cats) ? cats : [])]);\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to fetch data', 'error');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, [apiFetch, showMessage]);\r\n\r\n  useEffect(() => { fetchData(); }, [fetchData]);\r\n\r\n  const deleteQuestion = async (id) => {\r\n    if (window.confirm('Are you sure you want to delete this question?')) {\r\n      try {\r\n        await apiFetch(`/admin/question/delete/${id}`, { method: 'DELETE' });\r\n        showMessage('Question deleted successfully.', 'success');\r\n        fetchData();\r\n      } catch (error) {\r\n        showMessage(error.message || 'Failed to delete question.', 'error');\r\n      }\r\n    }\r\n  };\r\n\r\n  const filteredQuestions = filter === 'All' ? questions : questions.filter((q) => q.category === filter);\r\n\r\n  if (isLoading) return <Spinner />;\r\n  return (\r\n    <Card>\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h2 className=\"text-3xl font-bold\">Manage Questions ({filteredQuestions.length})</h2>\r\n        <div className=\"flex space-x-4\">\r\n          <Button onClick={() => navigateTo('add_question')} className=\"w-auto bg-blue-500 hover:bg-blue-600\">Add Question</Button>\r\n          <Button onClick={() => navigateTo('admin_dashboard')} className=\"w-auto bg-gray-500 hover:bg-gray-600\">Back</Button>\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-end items-center mb-4\">\r\n        <label htmlFor=\"category-filter\" className=\"mr-2\">Filter by Category:</label>\r\n        <Select id=\"category-filter\" value={filter} onChange={(e) => setFilter(e.target.value)} className=\"w-48\">\r\n          {categories.map((cat) => <option key={cat} value={cat}>{cat}</option>)}\r\n        </Select>\r\n      </div>\r\n      <div className=\"max-h-[60vh] overflow-y-auto space-y-3 pr-2\">\r\n        {filteredQuestions.length > 0 ? (\r\n          filteredQuestions.map((q) => (\r\n            <div key={q.id} className=\"bg-gray-50 p-3 rounded-lg border\">\r\n              <p className=\"font-semibold\">{q.question_title}</p>\r\n              <p className=\"text-sm text-gray-500\">Category: {q.category}</p>\r\n              <div className=\"mt-2 flex space-x-2\">\r\n                <button onClick={() => editQuestion(q)} className=\"px-3 py-1 bg-yellow-500 text-white text-sm rounded hover:bg-yellow-600\">Update</button>\r\n                <button onClick={() => deleteQuestion(q.id)} className=\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\">Delete</button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : <p className=\"text-gray-500\">No questions found for this category.</p>}\r\n      </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction AddQuestion({ navigateTo, apiFetch, showMessage }) {\r\n  const [formData, setFormData] = useState({ question_title: '', option1: '', option2: '', option3: '', option4: '', right_answer: '', difficultylevel: '', category: '' });\r\n  const handleChange = (e) => setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await apiFetch('/admin/question/addQuestions', { method: 'POST', body: formData });\r\n      showMessage('Question added!', 'success');\r\n      navigateTo('manage_questions');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to add question.', 'error');\r\n    }\r\n  };\r\n  return (\r\n    <Card>\r\n      <h2 className=\"text-3xl font-bold mb-6\">Add New Question</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <Input id=\"question_title\" placeholder=\"Question Title\" value={formData.question_title} onChange={handleChange} required />\r\n        <Input id=\"option1\" placeholder=\"Option 1\" value={formData.option1} onChange={handleChange} required />\r\n        <Input id=\"option2\" placeholder=\"Option 2\" value={formData.option2} onChange={handleChange} required />\r\n        <Input id=\"option3\" placeholder=\"Option 3\" value={formData.option3} onChange={handleChange} required />\r\n        <Input id=\"option4\" placeholder=\"Option 4\" value={formData.option4} onChange={handleChange} required />\r\n        <Input id=\"right_answer\" placeholder=\"Right Answer\" value={formData.right_answer} onChange={handleChange} required />\r\n        <Input id=\"difficultylevel\" placeholder=\"Difficulty Level\" value={formData.difficultylevel} onChange={handleChange} required />\r\n        <Input id=\"category\" placeholder=\"Category\" value={formData.category} onChange={handleChange} required />\r\n        <div className=\"flex space-x-4 pt-4\">\r\n          <Button type=\"button\" onClick={() => navigateTo('manage_questions')} className=\"bg-gray-500 hover:bg-gray-600\">Cancel</Button>\r\n          <Button type=\"submit\">Add Question</Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction UpdateQuestion({ question, navigateTo, apiFetch, showMessage }) {\r\n  const [formData, setFormData] = useState(question || {});\r\n  const handleChange = (e) => setFormData({ ...formData, [e.target.id]: e.target.value });\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await apiFetch(`/admin/question/update/${question.id}`, { method: 'PUT', body: formData });\r\n      showMessage('Question updated!', 'success');\r\n      navigateTo('manage_questions');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to update question.', 'error');\r\n    }\r\n  };\r\n\r\n  if (!question) return <Card>No question selected.</Card>;\r\n  return (\r\n    <Card>\r\n      <h2 className=\"text-3xl font-bold mb-6\">Update Question</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <Input id=\"question_title\" placeholder=\"Question Title\" value={formData.question_title || ''} onChange={handleChange} required />\r\n        <Input id=\"option1\" placeholder=\"Option 1\" value={formData.option1 || ''} onChange={handleChange} required />\r\n        <Input id=\"option2\" placeholder=\"Option 2\" value={formData.option2 || ''} onChange={handleChange} required />\r\n        <Input id=\"option3\" placeholder=\"Option 3\" value={formData.option3 || ''} onChange={handleChange} required />\r\n        <Input id=\"option4\" placeholder=\"Option 4\" value={formData.option4 || ''} onChange={handleChange} required />\r\n        <Input id=\"right_answer\" placeholder=\"Right Answer\" value={formData.right_answer || ''} onChange={handleChange} required />\r\n        <Input id=\"difficultylevel\" placeholder=\"Difficulty Level\" value={formData.difficultylevel || ''} onChange={handleChange} required />\r\n        <Input id=\"category\" placeholder=\"Category\" value={formData.category || ''} onChange={handleChange} required />\r\n        <div className=\"flex space-x-4 pt-4\">\r\n          <Button type=\"button\" onClick={() => navigateTo('manage_questions')} className=\"bg-gray-500 hover:bg-gray-600\">Cancel</Button>\r\n          <Button type=\"submit\">Update Question</Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n\r\nfunction CreateQuiz({ navigateTo, apiFetch, showMessage }) {\r\n  const [category, setCategory] = useState('');\r\n  const [numQ, setNumQ] = useState('');\r\n  const [title, setTitle] = useState('');\r\n  const [categories, setCategories] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const data = await apiFetch('/admin/question/categories');\r\n        setCategories(Array.isArray(data) ? data : []);\r\n      } catch (error) {\r\n        showMessage(error.message || 'Failed to fetch categories.', 'error');\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, [apiFetch, showMessage]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const params = new URLSearchParams({ category, numQ, title });\r\n    try {\r\n      await apiFetch(`/admin/quiz/create?${params.toString()}`, { method: 'POST' });\r\n      showMessage('Quiz created successfully!', 'success');\r\n      navigateTo('manage_quizzes');\r\n    } catch (error) {\r\n      showMessage(error.message || 'Failed to create quiz.', 'error');\r\n    }\r\n  };\r\n  if (isLoading) return <Spinner />;\r\n  return (\r\n    <Card>\r\n      <h2 className=\"text-3xl font-bold mb-6\">Create New Quiz</h2>\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <Input id=\"title\" placeholder=\"Quiz Title\" value={title} onChange={(e) => setTitle(e.target.value)} required />\r\n        <Select id=\"category\" value={category} onChange={(e) => setCategory(e.target.value)} required>\r\n          <option value=\"\" disabled>Select a Category</option>\r\n          {categories.map((cat) => <option key={cat} value={cat}>{cat}</option>)}\r\n        </Select>\r\n        <Input id=\"numQ\" type=\"number\" placeholder=\"Number of Questions\" value={numQ} onChange={(e) => setNumQ(e.target.value)} required />\r\n        <div className=\"flex space-x-4 pt-4\">\r\n          <Button type=\"button\" onClick={() => navigateTo('manage_quizzes')} className=\"bg-gray-500 hover:bg-gray-600\">Cancel</Button>\r\n          <Button type=\"submit\">Create Quiz</Button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}